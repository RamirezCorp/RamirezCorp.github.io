<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blink Card Member</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap');

        body {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
            background-color: rgb(37, 37, 37);
            /* Set background color to black */
            color: white;
            /* Optional: Set text color to white for better contrast */
            visibility: hidden;
            /* Hide page initially */
        }

        .gallery {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .gallery img {
            width: 100%;
            max-width: 100%;
            height: auto;
            display: block;
            margin-bottom: 10px;
        }

        @media (min-width: 768px) {
            .gallery img {
                margin-bottom: 20px;
            }
        }

        @media (min-width: 1200px) {
            .gallery img {
                margin-bottom: 30px;
            }
        }

        @media (min-width: 1920px) {

            /* For Full HD and above screens */
            .gallery img {
                max-width: 30%;
                /* Adjust as needed */
            }
        }

        @media (min-width: 3840px) {

            /* For 4K and above screens */
            .gallery img {
                max-width: 30%;
                /* Adjust as needed */
            }
        }

        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            /* Semi-transparent black background */
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 2em;
            z-index: 1000;
            transition: opacity 2s ease-in-out, visibility 2s ease-in-out;
        }

        @media (max-width: 768px) {
            .splash-screen {
                font-size: 1.5em;
            }
        }

        .splash-screen .name {
            font-family: 'Great Vibes', cursive;
            font-size: 3em;
            margin-top: 10px;
        }

        @media (max-width: 768px) {
            .splash-screen .name {
                font-size: 2em;
            }
        }

        .splash-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }
    </style>
</head>

<body>
    <div class="splash-screen" id="splashScreen">
        Welcome To the Blink VIP Club
        <span class="name" id="userName">Loading...</span>
    </div>
    <div class="gallery">
        <img src="./img/1.png" alt="Index Image" loading="lazy">
        <img src="./img/2.png" alt="Welcome Image">
        <img src="./img/3.png" alt="Coco Hello Cocobar benefit" loading="lazy">
        <img src="./img/4.png" alt="Kolabora benefit" loading="lazy">
        <img src="./img/5.png" alt="Ciamso benefit" loading="lazy">
        <img src="./img/6.png" alt="Rumah cocota benefits" loading="lazy">
        <img src="./img/7.png" alt="Kalma Resto benefits" loading="lazy">
        <img src="./img/8.png" alt="Murni Ban benefit" loading="lazy">
        <img src="./img/9.png" alt="Xpert-60 benefit" loading="lazy">
        <img src="./img/10.png" alt="Gloss and Go benefit" loading="lazy">
        <img src="./img/11.png" alt="Auto Point benefit" loading="lazy">
        <img src="./img/12.png" alt="speedupp.id benefit" loading="lazy">
        <img src="./img/14.png" alt="Join" loading="lazy">

    </div>
    <script>
        let currentUrl = new URL(window.location.href);
        let valueAfterUser = currentUrl.search.split("?user")[1];
        document.addEventListener("DOMContentLoaded", function () {
            const fetchUrl = `https://script.google.com/macros/s/AKfycbzdKpo3R4vhOpeHgG3tpvd5yzJE349Xnf8futm3XB-npYvTT4aCBioSaQgPbD9wibZq/exec?hash_md5=${valueAfterUser}`;

            // Perform fetch request
            fetch(fetchUrl)
                .then(response => response.json())
                .then(data => {
                    if (data.status === 'success') {
                        document.getElementById('userName').textContent = data.nama_user;
                        nama = data.nama_user
                    } else {
                        // document.getElementById('userName').textContent = 'Guest';
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    // document.getElementById('userName').textContent = 'Guest';
                })
                .finally(() => {
                    // Show page after fetch is complete
                    document.body.style.visibility = 'visible';
                    if (valueAfterUser) {
                        setTimeout(function () {
                            document.getElementById('splashScreen').classList.add('hidden');
                        }, 3000);
                    } else {
                        setTimeout(function () {
                            document.getElementById('splashScreen').classList.add('hidden');
                        }, 1);
                    }
                    // Hide splash screen after 3 seconds

                });
        });
    </script>
</body>

</html>